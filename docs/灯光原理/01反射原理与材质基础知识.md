01反射原理与材质基础知识
========================

反射基本知识
------------

其中反射分为**漫反射（diffuse）**和**镜面（reflection）**反射两种。

当物体的微表面平整而光滑时，产生的是镜面反射。

当物体的微表面凹凸不平时，产生的是漫反射。

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053059.jpg)

### 材质的数学模型

Lambert 与 Blinn 材质是三维软件中的两个非常基本的材质，无论是什么渲染器，它们的材质都是在这个基础上发展起来的。这两个材质分别描述了漫反射（Lambert）与镜面反射（Blinn）的效果。

**Lambert 对应到 KS 中就是漫反射材质。**

**Blinn 对应到 KS 中是塑料材质。**

### 漫反射

漫反射就一个参数，指代物体本身的颜色属性。

因此**强烈不建议用任何单纯的漫反射材质**，基本上都是非常假的效果。

### 镜面反射（塑料材质）

漫反射：不赘述。

高光： 控制镜面反射颜色的参数，高光颜色

粗糙度：控制高光的分布

折射指数（IOR）：控制高光强烈程度。一般来说，当 IOR 大于 10 以上便能模拟出金属的效果，而一般的绝缘体 IOR 都在1.5左右

菲涅尔：一种自然现象，下面详细介绍

反射现象：菲涅尔反射
--------------------

角度越大，反射效果越强

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053055.jpg)

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053053.jpg)

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053054.jpg)

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053057.jpg)

![](http://ox55f9bg6.bkt.clouddn.com/2017-10-04-053058.jpg)

通过获取空间中摄像机方向和物体法相节点和渐变关系，可以形成菲涅尔反射效果（本质模拟）

反射法则：能量守恒
==================

铬没有漫反射颜色

高光反射非常强（反射颜色为白色）

镀铬件的例子

漫反射+全反射的强度和=1，保证能量守恒

入射= 漫反射+镜面+吸收的能量

diffuse + refelectivity \<=1

菲涅尔反射也是遵循能量守恒

从中间到边缘，反射率从0.1到1

那么从中间到边缘，漫反射值从0.9到0

能量守恒就意味着物理正确

三种光学现象的优先级：全反射\>折射\>漫反射

全反射在能量守恒中起到主导作用，折射第二，漫反射最弱
